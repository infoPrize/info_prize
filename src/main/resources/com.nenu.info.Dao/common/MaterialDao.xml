<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.nenu.info.Dao.common.MaterialDao">
    

    <select id="listByThesisId" resultType="com.nenu.info.common.entities.common.Material">
        SELECT
        `id` AS id,
        `thesis_id` AS thesisId,
        `material_name` AS materialName,
        `material_url` AS materialUrl
        FROM `t_material`
        WHERE `thesis_id` = #{thesisId}
        AND `is_deleted` = 0
    </select>

    <update id="falseDeleteById">
        UPDATE `t_material`
        SET `is_deleted` = 1
        WHERE `id` = #{id}
    </update>

    <insert id="addThesis">
        INSERT INTO `t_material`
        (`thesis_id`,`material_name`,`material_url`)
        VALUES
        (#{material.thesisId},#{material.materialName},#{material.materialUrl})
    </insert>
    
    
</mapper>